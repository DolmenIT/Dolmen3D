(()=>{"use strict";var __webpack_modules__={134:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>d3d_loader});var _dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(727);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d3d_loader=_createClass((function d3d_loader(){_classCallCheck(this,d3d_loader),this.loadScene=function(scene_path,p_params){_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.render.ready=!1;try{_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.native.loadJS(scene_path,p_params).then((function(response){void 0!==response.p_params&&(_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.params.reset(),_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.params.setAll(response.p_params)),eval(response.data),_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.render.ready=!0}))}catch(e){_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.debug.error("Erreur lors du chargement de la scene :",e)}},_dolmen3d_js__WEBPACK_IMPORTED_MODULE_0__.i.debug.log("d3d_loader.constructor")}))},727:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{i:()=>ae});var a=i((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=!0,this.urlsend=!1,this.log=function(e){if(t.enabled)if(t.urlsend){var r="/debug=".concat(encodeURIComponent(e));fetch(r,{method:"GET",headers:{Accept:"application/json"}})}else t.d3dDebugDiv.innerHTML=ae.debug.getCurrentTimestamp()+" : "+e+"<br />"+String(t.d3dDebugDiv.innerHTML).substring(0,1e3)},this.getCurrentTimestamp=function(){var e=new Date;return e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0")+":"+Math.floor(performance.now()).toString().slice(-3)},this.disable=function(){console.log("d3d_debug.disable"),t.enabled=!1},console.log("d3d_debug.constructor"),this.d3dDebugDiv=document.createElement("div"),this.d3dDebugDiv.className="d3d_debug",this.d3dDebugDiv.style.position="absolute",this.d3dDebugDiv.style.top="10px",this.d3dDebugDiv.style.left="10px",this.d3dDebugDiv.style.width="1100px",this.d3dDebugDiv.style.height="600px",this.d3dDebugDiv.style.color="white",this.d3dDebugDiv.style.backgroundColor="hsla(210,75%,25%,0.5)",this.d3dDebugDiv.style.overflow="hidden",document.body.appendChild(this.d3dDebugDiv)}));function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=c((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.from=function(e){ae.debug.log("d3d_properties.from:"+JSON.stringify(e));var t={};return void 0!==e&&(void 0!==e.power&&(t.pow=e.power),void 0!==e.target&&(t.tx=e.target[0],t.ty=e.target[1],t.tz=e.target[2]),void 0!==e.position&&(t.px=e.position[0],t.py=e.position[1],t.pz=e.position[2]),void 0!==e.center&&(t.px=e.center[0],t.py=e.center[1],t.pz=e.center[2]),void 0!==e.size&&(t.sx=e.size[0],t.sy=e.size[1],t.sz=e.size[2])),t},ae.debug.log("d3d_properties.constructor")}));function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===d(o)?o:String(o)),n)}var o}function f(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=f((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loop=!1,this.ready=!1,this.lastRenderTimestamp=performance.now(),this.init=function(e){ae.debug.log("d3d_render:init"),ae.render.renderer=new THREE.WebGLRenderer,ae.render.renderer.setSize(window.innerWidth,window.innerHeight),ae.render.renderer.shadowMap.enabled=!0,ae.render.renderer.shadowMap.type=THREE.PCFSoftShadowMap,document.body.appendChild(ae.render.renderer.domElement)},this.start=function(){ae.debug.log("d3d_render.start"),ae.webxr.stop(),ae.render.loop=!0,ae.render.render()},this.stop=function(){ae.debug.log("d3d_render.stop"),ae.render.loop=!1},this.render=function(){ae.render.loop&&(ae.render.ready?ae.scenes.currentScene?ae.animate.apply().then((function(){ae.render.renderer.render(ae.scenes.getScene("example_1"),ae.scenes.getObject("objCamera")),setTimeout(ae.render.render,10)})):setTimeout(ae.render.render,100):setTimeout(ae.render.render,1e3))},ae.debug.log("d3d_render.constructor")})),y=r(134);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var h=g((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scenes={},this.scenesWithObjects={},this.persistentObjects={},this.currentScene=null,this.setScene=function(e){ae.debug.log("d3d_scenes.setScene:"+e),e in t.scenes||(t.scenes[e]=new THREE.Scene,t.scenesWithObjects[e]={}),t.currentScene=e},this.getScene=function(){if(t.currentScene)return t.scenes[t.currentScene]||null;ae.debug.log("d3d_scenes.getScene: Scene is not defined")},this.destructScene=function(e){for(var r in ae.debug.log("d3d_scenes.destructScene:"+e),t.scenesWithObjects[e])void 0!==t.scenesWithObjects[e][r]&&t.scenesWithObjects[e][r].remove(),delete t.scenesWithObjects[e][r];delete t.scenesWithObjects[e]},this.addObject=function(e,r){ae.debug.log("d3d_scenes.addObject:"+e),t.currentScene?(t.scenesWithObjects[t.currentScene][e]=r,t.scenes[t.currentScene].add(r)):ae.debug.log("d3d_scenes.addObject: Scene is not defined")},this.addObjects=function(e){for(var r in e)t.addObject(r,e[r])},this.getObject=function(e){if(t.currentScene)return t.scenesWithObjects[t.currentScene][e]||null;ae.debug.log("d3d_scenes.getObject: Scene is not defined")},this.addPersistant=function(e,r){if(ae.debug.log("d3d_scenes.addPersistant:"+e),!t.persistentObjects[e])return t.persistentObjects[e]=r,t.persistentObjects[e];r instanceof HTMLElement&&r.remove()},ae.debug.log("d3d_scenes.constructor")}));function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===w(o)?o:String(o)),n)}var o}function S(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var j=S((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetchJSON=function(e){return ae.debug.log("d3d_native.fetchJSON:"+e),new Promise((function(t,r){if(void 0===window.nativeInterface)fetch(e).then((function(e){e.ok?t(e.json()):r(new Error("Erreur lors du chargement du fichier JSON."))})).catch((function(e){r(e)}));else try{var n=JSON.parse(window.nativeInterface.fetchJSON(e));t(n)}catch(e){r(e)}}))},this.loadJS=function(e,t){return new Promise((function(r,n){if(void 0===window.nativeInterface)fetch(e).then((function(e){e.ok?e.text().then((function(e){r({data:e,p_params:t})})).catch((function(e){n(e)})):n(new Error("Erreur lors du chargement du fichier JS."))})).catch((function(e){n(e)}));else try{var o=window.nativeInterface.loadJS(e);r({data:o,p_params:t})}catch(e){n(e)}}))},ae.debug.log("d3d_native.constructor")}));function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===x(o)?o:String(o)),n)}var o}function P(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var O=P((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera=function(e){ae.debug.log("d3d_object.camera:"+JSON.stringify(e));var t=ae.properties.from(e),r=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(t.px,t.py,t.pz);var n=new THREE.Vector3(t.tx,t.ty,t.tz);return r.lookAt(n),r},this.ambientlight=function(e){ae.debug.log("d3d_object.ambientlight:"+JSON.stringify(e));var t=ae.properties.from(e);return new THREE.AmbientLight(16777215,t.pow)},this.pointlight=function(e){ae.debug.log("d3d_object.pointlight:"+JSON.stringify(e));var t=ae.properties.from(e),r=new THREE.PointLight(16777215,t.pow,0,2);return r.position.set(t.px,t.py,t.pz),r},this.directionallight=function(e){ae.debug.log("d3d_object.directionallight:"+JSON.stringify(e));var t=ae.properties.from(e),r=new THREE.DirectionalLight(65280,t.pow);return r.position.set(t.px,t.py,t.pz),r.target.position.set(t.tx,t.ty,t.tz),r},this.spotlight=function(e){ae.debug.log("d3d_object.spotlight:"+JSON.stringify(e));var t=ae.properties.from(e),r=new THREE.SpotLight(255,.25,100,Math.PI/6,.25);return r.position.set(t.px,t.py,t.pz),r.target.position.set(t.tx,t.ty,t.tz),r},ae.debug.log("d3d_object.constructor")}));function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===T(o)?o:String(o)),n)}var o}function R(e,t,r){return t&&D(e.prototype,t),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=R((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.materials={},this.create=function(e,r){var n;ae.debug.log("d3d_materials.create:"+e+", "+JSON.stringify(r)),void 0!==r.basic?n=new THREE.MeshBasicMaterial(r.basic):void 0!==r.phong&&(n=new THREE.MeshPhongMaterial(r.phong)),t.materials[e]=n},this.creates=function(e){for(var r in ae.debug.log("d3d_materials.creates:"+JSON.stringify(e)),e)t.create(r,e[r])},this.get=function(e){return t.materials[e]||null},ae.debug.log("d3d_materials.constructor")}));function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}function B(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var A=B((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cube=function(e){ae.debug.log("d3d_geometry.cube:"+JSON.stringify(e));var t=ae.properties.from(e),r=new THREE.BoxGeometry(t.sx,t.sy,t.sz),n=new THREE.Mesh(r,ae.materials.get(e.material));return n.position.set(t.px,t.py,t.pz),n},ae.debug.log("d3d_geometry.constructor")}));function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===X(o)?o:String(o)),n)}var o}function W(e,t,r){return t&&z(e.prototype,t),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var N=W((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animateWithObjects={rotate:{},translate:{}},this.lastApplyTimestamp=performance.now(),this.apply=function(){return new Promise((function(e,r){try{var n=performance.now(),o=n-t.lastApplyTimestamp;for(var i in t.lastApplyTimestamp=n,t.animateWithObjects.rotate)t.rotateApply(i,o);for(var a in t.animateWithObjects.translate)t.translateApply(a,o);e()}catch(e){r(e)}}))},this.rotate=function(e,r){"speed"in r&&("unit"in r||(r.unit="degree"),"degree"==r.unit&&(r.speed[0]=ae.math.rad(r.speed[0]),r.speed[1]=ae.math.rad(r.speed[1]),r.speed[2]=ae.math.rad(r.speed[2])),r.speed[0]=r.speed[0]/1e3,r.speed[1]=r.speed[1]/1e3,r.speed[2]=r.speed[2]/1e3,t.animateWithObjects.rotate[e]=r)},this.rotateApply=function(e,r){var n=ae.scenes.getObject(e);if(void 0!==n){var o=t.animateWithObjects.rotate[e];n.rotation.x+=o.speed[0]*r,n.rotation.y+=o.speed[1]*r,n.rotation.z+=o.speed[2]*r}},this.translate=function(e,r){"speed"in r&&(r.speed[0]=r.speed[0]/1e3,r.speed[1]=r.speed[1]/1e3,r.speed[2]=r.speed[2]/1e3,t.animateWithObjects.translate[e]=r)},this.translateApply=function(e,r){var n=ae.scenes.getObject(e);if(void 0!==n){var o=t.animateWithObjects.translate[e];if(n.position.x+=o.speed[0]*r,n.position.y+=o.speed[1]*r,n.position.z+=o.speed[2]*r,"range"in o){if(Array.isArray(o.range[0]))if(n.position.x<o.range[0][0]){var i=n.position.x-o.range[0][0];n.position.x=o.range[0][0]+i,o.speed[0]=-o.speed[0]}else if(n.position.x>o.range[0][1]){var a=n.position.x-o.range[0][1];n.position.x=o.range[0][1]-a,o.speed[0]=-o.speed[0]}if(Array.isArray(o.range[1]))if(n.position.y<o.range[1][0]){var s=n.position.y-o.range[1][0];n.position.y=o.range[1][0]+s,o.speed[1]=-o.speed[1]}else if(n.position.y>o.range[1][1]){var u=n.position.y-o.range[1][1];n.position.y=o.range[1][1]-u,o.speed[1]=-o.speed[1]}if(Array.isArray(o.range[2]))if(n.position.z<o.range[2][0]){var c=n.position.z-o.range[2][0];n.position.z=o.range[2][0]+c,o.speed[2]=-o.speed[2]}else if(n.position.z>o.range[2][1]){var l=n.position.z-o.range[2][1];n.position.z=o.range[2][1]-l,o.speed[2]=-o.speed[2]}}}},ae.debug.log("d3d_animate.constructor")}));function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===H(o)?o:String(o)),n)}var o}function J(e,t,r){return t&&L(e.prototype,t),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=J((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.str=function(e){return 0},this.hex=function(e){return 0},ae.debug.log("d3d_color.constructor")}));function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function U(e,t,r){return t&&K(e.prototype,t),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var F=U((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pi=3.14159265,this.pi2=6.2831853,this.deg=function(e){return e/t.pi*180},this.rad=function(e){return e/180*t.pi},ae.debug.log("d3d_math.constructor")}));function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===G(o)?o:String(o)),n)}var o}function Q(e,t,r){return t&&V(e.prototype,t),r&&V(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Y=Q((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionInit=null,this.currentSession=null,this.XRButton=null,this.mode=null,this.renderer=null,this.loop=!1,this.enable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ae.debug.log("d3d_webxr:enable"),ae.webxr.sessionInit=e,ae.webxr.XRButton=document.createElement("button"),ae.webxr.enableButton(),"xr"in navigator?navigator.xr.isSessionSupported("immersive-ar").then((function(e){e?(ae.webxr.mode="immersive-ar",ae.webxr.enableButton()):navigator.xr.isSessionSupported("immersive-vr").then((function(e){e?(ae.webxr.mode="immersive-vr",ae.webxr.enableButton()):ae.webxr.showXRNotSupported()})).catch(ae.webxr.showXRNotAllowed)})).catch(ae.webxr.showXRNotAllowed):!1===window.isSecureContext?ae.debug.log("WEBXR NEEDS HTTPS"):ae.debug.log("WEBXR NOT AVAILABLE")},this.enableButton=function(){ae.debug.log("d3d_webxr:enableButton"),ae.webxr.XRButton.id="XRButton",ae.webxr.XRButton.style.display="button",ae.webxr.XRButton.style.cursor="pointer",ae.webxr.XRButton.style.left="calc(50% - 50px)",ae.webxr.XRButton.style.width="100px",ae.webxr.XRButton.style.position="absolute",ae.webxr.XRButton.style.bottom="20px",ae.webxr.XRButton.style.padding="12px 6px",ae.webxr.XRButton.style.border="1px solid #fff",ae.webxr.XRButton.style.borderRadius="4px",ae.webxr.XRButton.style.background="hsla(0,0%,100%,0.5)",ae.webxr.XRButton.style.color="hsla(0,0%,0%,0.75)",ae.webxr.XRButton.style.font="normal 13px sans-serif",ae.webxr.XRButton.style.textAlign="center",ae.webxr.XRButton.style.opacity="0.5",ae.webxr.XRButton.style.outline="none",ae.webxr.XRButton.style.zIndex="999",ae.webxr.XRButton.textContent="START XR",ae.webxr.XRButton=document.body.appendChild(ae.webxr.XRButton),ae.webxr.XRButton.addEventListener("click",(function(){ae.debug.log("d3d_webxr:click"),ae.debug.urlsend=!0,ae.debug.log("d3d_webxr:test"),ae.debug.urlsend=!0,ae.debug.log("d3d_webxr:onClick")}))},this.onClick=function(){ae.debug.urlsend=!0,ae.debug.log("d3d_webxr:test"),ae.debug.urlsend=!0,ae.debug.log("d3d_webxr:onClick")},this.showXRNotSupported=function(){ae.debug.log("d3d_webxr:showXRNotSupported"),ae.debug.log("XR NOT SUPPORTED")},this.showXRNotAllowed=function(e){ae.debug.log("d3d_webxr:showXRNotAllowed"),ae.debug.log("Exception when trying to call xr.isSessionSupported",e)},this.start=function(){ae.debug.log("d3d_webxr.render"),ae.render.stop(),ae.webxr.loop=!0,ae.webxr.render()},this.stop=function(){ae.webxr.loop=!1},this.render=function(){ae.debug.log("d3d_webxr.render"),ae.webxr.loop&&(requestAnimationFrame(ae.webxr.render),ae.animate.apply(),ae.scenes.currentScene&&ae.webxr.renderer.render(ae.scenes.getScene("example_1"),ae.scenes.getObject("objCamera")))},ae.debug.log("d3d_webxr.constructor")}));function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Z(o)?o:String(o)),n)}var o}function ee(e,t,r){return t&&$(e.prototype,t),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var te=ee((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=!0,this.update=function(){var e,r=window.performance.memory.usedJSHeapSize;e=r<1048576?(r/1024).toFixed(2)+" KB":r<1073741824?(r/1048576).toFixed(2)+" MB":(r/1073741824).toFixed(2)+" GB",t.d3dMemoryDiv.innerText="Memory usage : "+e,setTimeout(ae.monitor.update,1e3)},console.log("d3d_debug.constructor"),this.d3dMonitorDiv=document.createElement("div"),this.d3dMonitorDiv.className="d3d_monitor",this.d3dMonitorDiv.style.position="absolute",this.d3dMonitorDiv.style.top="1vw",this.d3dMonitorDiv.style.left="89vw",this.d3dMonitorDiv.style.width="10vw",this.d3dMonitorDiv.style.height="10vw",this.d3dMonitorDiv.style.color="white",this.d3dMonitorDiv.style.backgroundColor="hsla(210,75%,25%,0.5)",this.d3dMonitorDiv.style.overflow="hidden",this.d3dMonitorDiv.style.padding="0.5vw",this.d3dMonitorDiv.style.fontFamily="arial",document.body.appendChild(this.d3dMonitorDiv),this.d3dMemoryDiv=document.createElement("div"),this.d3dMemoryDiv.id="d3d_monitor_memory",this.d3dMemoryDiv.style.fontSize="0.7vw",this.d3dMemoryDiv.style.lineHeight="0.9vw",this.d3dMonitorDiv.appendChild(this.d3dMemoryDiv),setTimeout(this.update,1e3)}));function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===re(o)?o:String(o)),n)}var o}function oe(e,t,r){return t&&ne(e.prototype,t),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ie=oe((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init=function(){console.log("dolmen3d.init"),t.debug=new a,t.monitor=new te,t.properties=new l,t.render=new b,t.loader=new y.l,t.scenes=new h,t.native=new j,t.object=new O,t.materials=new k,t.geometry=new A,t.animate=new N,t.color=new I,t.math=new F,t.webxr=new Y},this.start=function(){console.log("dolmen3d.start"),ae.render.init(),ae.render.start()},this.onLoad=function(e){console.log("dolmen3d.onLoad"),t.callback=e},this.tryCallback=function(){console.log("dolmen3d.tryCallback"),"function"==typeof t.callback?t.callback():setTimeout(ae.tryCallback(),100)},console.log("dolmen3d.constructor")}));window.d3d=new ie;var ae=window.d3d;ae.init(),window.addEventListener("load",(function(e){ae.tryCallback(),ae.start()}))}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__=__webpack_require__(727)})();